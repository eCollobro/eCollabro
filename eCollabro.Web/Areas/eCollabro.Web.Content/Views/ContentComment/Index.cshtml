@using eCollabro.Client.Models.Content;
@using eCollabro.Client.Models.Core;
@using eCollabro.Web.Base;
@model ContentCommentModel
    @if (!Request.IsAjaxRequest())
    {
        <script type="text/javascript" src="~/Areas/eCollabro.Web.Content/ViewScripts/ContentComment/contentComments.js"></script>
    }
  <hr />
    <div id="divContentComments" ng-controller="contentCommentsController" ng-init="Initialize('@Model.ContextId',@Model.ContextContentId)">
        <div style="text-align:right;width:100%">
            Likes <span class="badge">0</span> 
            Votes <span class="badge">0 </span> 
            Rating <span class="badge">0 </span>
        </div>

        <div ng-show="isCommentAllowed">
            @{
                List<PageButton> pageButtons = new List<PageButton>();
                pageButtons.Add(new PageButton { Id = "btnRefresh", CssClass="btn btn-warning", ButtonText = "Refresh", Icon = "refresh", Method = "loadComments()" });
                pageButtons.Add(new PageButton { Id = "btnAdd", CssClass="btn btn-success", ButtonText = "Add Comment", Icon = "plus", Method = "addComment()" });
            }
             @Html.Partial("_PageHeader", new PageHeaderModel { ViewId = "ContentComments", PageTitle = "Comments", PageButtons= pageButtons })
            <div class="modal fade" id="dlgAddComment">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                            <h4 class="modal-title">Add Comments</h4>
                        </div>
                        <div class="modal-body">
                            <div id="divAddCommentModalSummary"></div>
                            <textarea class="form-control" rows="4" cols="200" id="txtComments"></textarea>
                            <input type="hidden" id="hdnCurrentNode" />
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" onclick="javascript: getContentCommentsController().saveComment();">Save</button>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
            <div id="divSummaryMessageAddContent"></div>
            <div id="placeHolderContentComments"></div>
        </div>
  </div>
